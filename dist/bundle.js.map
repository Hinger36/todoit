{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/api.js","webpack:///./src/indexDB.js","webpack:///./src/interactive.js","webpack:///./src/main.js","webpack:///./src/preload.js"],"names":["addEvent","ele","type","handle","addEventListener","attachEvent","call","ID","Number","Math","random","toString","split","Date","now","DB_NAME","DB_VERSION","DB_STORE_NAME","KEYPATH","INDEX","IndexName","keyPath","unique","db","deleteIndexDB","DBDeleteRequest","window","indexedDB","deleteDatabase","onerror","event","console","log","onsuccess","result","initDB","data","callback","openReq","open","target","errorCode","getAllDB","onupgradeneeded","oldVersion","deleteObjectStore","_createObjectStoreHandle","onblocked","store","createObjectStore","autoIncrement","_createIndex","index","createIndex","_createTransation","transaction","oncomplete","onabort","addDB","obj","objectStore","i","put","deleteDB","delete","getDB","arr","get","cursor","push","getAll","forEach","x","api","tags","tag","content","document","querySelectorAll","tagMenu","ul","querySelector","menu","icon","isShow","_css","top","transition","transform","_clickTag","conTag","srcElement","nodeName","_swapHandle","innerHTML","innerText","textContent","leftMenu","nav","lmenu","box","isHiden","left","menuBtn","filter","len","length","backgroundColor","elements","hasOwnProperty","display","element","styles","style","_getNode","node","parentNode","todolist","inter","images","init","time","getElementsByClassName","getNowTime","week","month","DBbase","showList","addTodo","weeks","listHandle","load","e","item","input","children","value","_addItem","Array","prototype","indexOf","task","day","todoitem","id","tick","status","unshift","inbox","getElementById","today","proTag","_sort","todayList","clearList","_indexImg","_createList","weekList","_tagList","list","li","createElement","p","em","appendChild","textDecoration","background","div","border","_deleteItem","_getTask","somelist","state","_refresh","sort","a","b","addDay","foo","setDate","getDate","getMonth","hours","getHours","minutes","getMinutes","getDay","taglist","preload","timeout","count","success","isTimeout","timeId","key","src","image","Image","doload","setTimeout","onTimeout","onload","cleanEvent","clearTimeout"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","//事件监听 兼容性封装\nfunction addEvent(ele, type, handle) {\n  if (ele.addEventListener) {\n    ele.addEventListener(type, handle, false);\n  } else if (ele.attachEvent) {\n    ele.attachEvent('on' + type, function () {\n      handle.call(this);\n    });\n  } else {\n    ele['on' + type] = handle;\n  }\n}\n//生成一个唯一数\nfunction ID() {\n  return Number(\n    Math.random().toString().split('.')[1]\n  ).toString(36) + Date.now().toString(36);\n}\n\nexport default {\n  addEvent,\n  ID,\n}","\n\n//数据库名称\nconst DB_NAME = 'todoit-indexedDB';\n//数据库版本号\nconst DB_VERSION = 2;\n//对象仓库名称\nconst DB_STORE_NAME = 'todolist';\nconst KEYPATH = 'tick';\n//索引\nconst INDEX = {\n  IndexName: 'id',\n  keyPath: 'id',\n  unique: false,\n}\nlet db;\n\n//从删库到跑路\nfunction deleteIndexDB() {\n  var DBDeleteRequest = window.indexedDB.deleteDatabase(DB_NAME);\n\n  DBDeleteRequest.onerror = function(event) {\n    console.log(\"Error deleting database.\");\n  };\n  \n  DBDeleteRequest.onsuccess = function(event) {\n    console.log(\"Database deleted successfully\");\n      \n    console.log(event.result); // should be undefined\n  };\n}\n\n\n//数据库初始化\nfunction initDB(data, callback) {\n  const openReq = window.indexedDB.open(DB_NAME, DB_VERSION);\n  \n  openReq.onerror = event => {\n    console.log(\"initDb:\", event.target.errorCode);\n  };\n  openReq.onsuccess = event => {\n    db = event.target.result;\n    getAllDB(data, callback);\n    console.log(\"initDb DONE\");\n  };\n  openReq.onupgradeneeded = event => {\n    db = event.target.result;\n    if (event.oldVersion) {\n      db.deleteObjectStore(DB_STORE_NAME);\n    }\n    _createObjectStoreHandle();\n\n    console.log('创建对象仓库成功');\n  };\n  openReq.onblocked = () => {\n    console.log('上一次的数据库连接还未关闭');\n  }\n}\n//创建对象仓库\nfunction _createObjectStoreHandle() {\n  const store = db.createObjectStore(DB_STORE_NAME, { keyPath: KEYPATH, autoIncrement: false});\n  _createIndex(store, INDEX);\n}\n//创建索引\nfunction _createIndex(store, index) {\n  store.createIndex(index.IndexName, index.keyPath, {unique: index.unique});\n}\n//建立事务\nfunction _createTransation() {\n  const transaction = db.transaction(DB_STORE_NAME, 'readwrite');\n  transaction.oncomplete = () => {\n    // console.log('事务完成');\n  }\n  transaction.onerror = () => {\n    console.log('事务出错');\n  }\n  transaction.onabort = () => {\n    console.log('事务中断');\n  }\n  return transaction;\n}\n/**\n * 添加数据\n * @param {需要存储的数据对象或者数组} obj \n */\nfunction addDB(obj, callback) {\n  let store = _createTransation().objectStore(DB_STORE_NAME);\n  for (let i in obj) {\n    store.put(obj[i])\n  \t\t  .onsuccess = () => {\n          callback();\n          // console.log('添加成功');\n        }\n    }\n} \n//删除一条数据\nfunction deleteDB(keyPath, callback) {\n  let store = _createTransation().objectStore(DB_STORE_NAME);\n  store.delete(keyPath)\n      .onsuccess = () => {\n        // console.log('删除成功');\n        callback();\n      }\n}\n\n//获取一条数据\nfunction getDB(keyPath, arr) {\n  let store = _createTransation().objectStore(DB_STORE_NAME);\n  store.get(keyPath)\n      .onsuccess = event => {\n         let cursor = event.target.result;\n         if (cursor) {\n           obj.push(cursor);\n         }\n    }\n}\n\n//获取全部数据\nfunction getAllDB(arr, callback) {\n  let store = _createTransation().objectStore(DB_STORE_NAME);\n  store.getAll()\n       .onsuccess = event => {\n         let cursor = event.target.result;\n         if (cursor) {\n           cursor.forEach(x => arr.push(x));\n           callback();\n         }\n    }\n}\n\nexport default {\n  initDB,\n  addDB,\n  deleteDB,\n  getDB,\n  getAllDB,\n  deleteIndexDB\n}\n\n","import api from './api';\n\n/**\n * 页面交互模块\n */\nconst addEvent = api.addEvent;\nlet tags = {tag: ''};\nlet content = document.querySelectorAll('.right-box .content');\n\n//标签列表部分\nfunction tagMenu(callback) {\n  let ul = document.querySelector('#tag-list');\n  //标签栏\n  let menu = document.querySelector('.fixmenu');\n  //展开缩回icon箭头\n  let icon = menu.querySelector('.icon');\n  //是否显示标签页\n  let isShow = true;\n  addEvent(menu, 'click', function () {\n    if (isShow) {\n      //展开标签列表\n      _css(ul, {top: '-180px', transition: '0.6s'});\n      //箭头旋转\n      _css(icon, {transform: 'rotate(180deg)', transition: '0.6s'});\n    } else {\n      //隐藏列表\n      _css(ul, {top: '', transition: '0.6s'});\n      _css(icon, {transform: '', transition: '0.6s'});\n    }\n    isShow = !isShow;\n  });\n  _clickTag(callback);\n  //点击标签\n  function _clickTag(callback) {\n    let conTag = document.querySelector('#con-tag');\n    let tag = conTag.querySelector('.tag');\n    addEvent(ul, 'click', function (event) {\n      let target = event.target || event.srcElement;\n      if (target.nodeName === 'LI') {\n        _swapHandle(content, conTag);\n        tag.innerHTML = '<span>' + target.innerText + '</span>';\n        tags.tag = tag.textContent;\n        callback();\n      }    \n    });\n  }\n};\n\n\n//移动端响应式菜单开关\nfunction leftMenu() {\n  //切换菜单按钮\n  let nav = document.querySelector('.nav-toggle');\n  //左侧菜单栏\n  let lmenu = document.querySelector('.left-menu');\n  //右侧内容部分\n  let box = document.querySelector('.right-box');\n  //菜单是否隐藏\n  let isHiden = true;\n  addEvent(nav, 'click', function () {\n    if (isHiden) {\n      //点击展开菜单\n      _css(lmenu, {left: '0', transition: '0.6s'});\n    } else {\n      //点击隐藏菜单\n      _css(lmenu, {left: '', transition: '0.6s'});\n    }\n    isHiden = !isHiden;\n  });\n  //点击非菜单部分，隐藏菜单\n  addEvent(box, 'click', function () {\n    _css(lmenu, {left: '', transition: '0.6s'});\n  });\n}\n\n\n//切换功能，今天、未来7天、收信箱\nfunction menuBtn() {\n  let filter = document.querySelectorAll('#top-filters .filter');\n  for(let i = 0, len = filter.length; i < len - 1; i++) {\n    addEvent(filter[i], 'click', function () {\n      _swapHandle(content, content[i]);\n      for (let i = 0, len = filter.length; i < len - 1; i++) {\n        _css(filter[i], {backgroundColor: '#fafafa'});\n      }\n      _css(filter[i], {backgroundColor: '#fff'});\n    });\n  }  \n}\n\n/**\n * 显示元素列表中的目标元素，隐藏列表中非目标元素\n * @param {元素列表} elements \n * @param {目标元素} target \n */\nfunction _swapHandle(elements, target) {\n  //遍历元素列表\n  for (let i in elements) {\n    //过滤掉原型上的属性\n    if (!elements.hasOwnProperty(i)) {\n      continue;\n    }\n    _css(elements[i], {display: 'none'});\n  }\n  _css(target, {display: 'block'});\n}\n\n/**\n * 改变元素的style属性\n * 调用方式:_css($el, {\"font-size\": ..., \"background\": ...}；\n * @param {dom对象} element\n * @param {样式对象} styles \n */\nfunction _css(element, styles) {\n  for (let i in styles) {\n    element.style[i] = styles[i];\n  }\n}\n\nfunction _getNode(node) {\n  if(node.nodeName === 'LI') {\n    return node;\n  } else {\n    return _getNode(node.parentNode);\n  }\n}\n\nexport default {\n  tagMenu,\n  leftMenu,\n  menuBtn,\n  tags\n}\n","import DBbase from './indexDB';\nimport api from './api';\nimport inter from './interactive'\nimport load from './preload'\n\n//事件封装函数\nconst addEvent = api.addEvent;\n//随机数ID\nconst ID = api.ID;\nlet todolist = [];\nlet tags = inter.tags;\nlet images = [\n  './images/736b25b3212facd336d9bc0fd047c07e.png',\n  './images/delete.png',\n  './images/success.png',\n  './images/webwxgetmsgimg.png'\n];\n\n(function init() {\n  let time = document.getElementsByClassName('time');\n  for (let i = 1, len = time.length; i < len; i++) {\n    time[i].innerHTML = getNowTime(i - 1).week + getNowTime(i - 1).month;     \n  }\n  time[0].innerHTML = getNowTime().week + getNowTime().month;\n  //DBbase.deleteIndexDB()\n  DBbase.initDB(todolist, showList);\n  addTodo();\n  weeks();\n  listHandle();\n  load(images,function(e) {\n    console.log(e)\n  });\n\n  //交互部分\n  inter.tagMenu(showList);\n  inter.leftMenu();\n  inter.menuBtn();\n  \n})();\n  \n\n//添加待办事项\nfunction addTodo(item) {\n  let content = document.getElementsByClassName('content');\n  //收件箱\n  addEvent(content[0], 'click', event => {\n    let target = event.target || event.srcElement;\n    if (target.nodeName === 'BUTTON') {\n      let input = target.parentNode.children[0];\n      if (!input.value) {\n        return;\n      }\n      _addItem(input.value);\n      input.value = '';\n    } else {\n      return;\n    }   \n  });\n  //今天\n  addEvent(content[1], 'click', event => {\n    let target = event.target || event.srcElement;\n    if (target.nodeName === 'BUTTON') {\n      let input = target.parentNode.children[0];\n      if (!input.value) {\n        return;\n      }\n      _addItem(input.value);\n      input.value = '';\n    } else {\n      return;\n    }   \n  });\n  //未来7天\n  addEvent(content[2], 'click', event => {\n    let target = event.target || event.srcElement;\n    if (target.nodeName === 'BUTTON') {\n      let input = target.parentNode.children[0];\n      let index = Array.prototype.indexOf.call(target.parentNode.parentNode.parentNode.children, target.parentNode.parentNode);\n      if (!input.value) {\n        return;\n      }\n      _addItem(input.value, index);\n      input.value = '';\n    } else {\n      return;\n    }   \n  });\n  addEvent(content[3], 'click', event => {\n    let target = event.target || event.srcElement;\n    if (target.nodeName === 'BUTTON') {\n      let input = target.parentNode.children[0];\n      if (!input.value) {\n        return;\n      }\n      _addItem(input.value, null, tags.tag);\n      input.value = '';\n    } else {\n      return;\n    }   \n  });\n}\n\n//添加一条任务\nfunction _addItem(task, day, tag) {\n   let todoitem = {\n    id: ID(),\n    tick : Date.now(),\n    task: task,\n    time: getNowTime(day).month,\n    //标记是否完成\n    status: false,\n    tag: tag,\n  };\n  todolist.unshift(todoitem);\n  DBbase.addDB(todolist, showList);\n}\n\n//显示数据\nfunction showList() {\n  let inbox = document.getElementById('inbox'); \n  let today = document.getElementById('today');\n  let weeks = document.getElementsByClassName('week');\n  let proTag = document.getElementById('pro-tag');\n  _sort();\n  let todayList = todolist.filter(ele => ele.time === getNowTime().month);\n  clearList();\n  //如果收信箱TODO列表为空\n  if (!todolist.length) {\n    //创建首页图片\n    _indexImg(inbox);\n  }\n  //如果今天TODO列表为空\n  if (!todayList.length) {\n    _indexImg(today);\n  }\n  //创建列表\n  _createList(inbox, todolist);\n  _createList(today, todayList);\n\n  for (let i = 0, len = weeks.length; i < len; i++) {\n    let week = weeks[i].children[2].children[0];\n    let weekList = todolist.filter(ele => ele.time === getNowTime(i).month);\n    //创建未来7天的TODO列表\n    _createList(week, weekList);\n  }\n  //创建标签列表\n  _createList(proTag, _tagList());\n}\n//创建数据列表\nfunction _createList(list, obj) {\n  obj.forEach(ele => {\n    let li = document.createElement('li');\n    let p = document.createElement('p');\n    let em = document.createElement('em');\n    p.innerHTML = '<span></span><i>' + ele.time + '</i>' + ele.task;\n    let item = list.appendChild(li);\n    item.appendChild(p);\n    item.appendChild(em);\n    //完成任务\n    if (ele.status) {\n      //完成的任务添加删除线\n      p.style.textDecoration = 'line-through';\n      p.children[0].style.background = 'url(./images/success.png) no-repeat';\n    }\n  });\n}\n//清空数据列表\nfunction clearList() {\n  let list = document.getElementsByClassName('todolist');\n  for (let i = 0, len = list.length; i < len; i++) {\n    list[i].innerHTML = '';\n  }\n}\n\n/**\n * 创建首页图片\n * @param {todolist列表dom元素} list \n */\nfunction _indexImg(list) {\n  let div = document.createElement('div');\n  let li = document.createElement('li');\n  let box = list.appendChild(li);\n  li.style.border = 'none';\n  box.appendChild(div).innerHTML = '<div></div><div>你的任务完成了！#TodolistZero</div>';\n}\n\nfunction listHandle() {\n  let ul = document.getElementsByClassName('todolist');\n  let inbox = document.getElementById('inbox'); \n  let today = document.getElementById('today');\n  let weeks = document.getElementsByClassName('week');\n  let proTag = document.getElementById('pro-tag');\n  addEvent(inbox, 'click', event => {\n    let target = event.target || event.srcElement;\n    //删除点击的那条任务\n    if (target.nodeName === 'EM') {\n      _deleteItem(todolist, target);\n    }\n    //点击某条任务，代表完成\n    if (target.nodeName === 'P') {\n      _getTask(todolist, target);\n    }\n  });\n  addEvent(today, 'click', event => {\n    let target = event.target || event.srcElement;\n    let todayList = todolist.filter(ele => ele.time === getNowTime().month);\n    //删除任务\n    if (target.nodeName === 'EM') {\n      _deleteItem(todayList, target)\n    }\n    //完成任务\n    if (target.nodeName === 'P') {\n      _getTask(todayList, target);\n    }\n  });\n\n  for (let i = 0, len = weeks.length; i < len; i++) {\n    addEvent(ul[i + 2], 'click', event => {\n      let target = event.target || event.srcElement;\n      //未来7天中某一天的todo列表\n      let weekList = todolist.filter(ele => ele.time === getNowTime(i).month);\n      if (target.nodeName === 'EM') {\n        _deleteItem(weekList, target)\n      }\n      if (target.nodeName === 'P') {\n        _getTask(weekList, target);\n      }\n    });\n  }\n  addEvent(proTag, 'click', event => {\n    let target = event.target || event.srcElement;\n    let todayList = todolist.filter(ele => ele.time === getNowTime().month);\n    if (target.nodeName === 'EM') {\n      _deleteItem(_tagList(), target)\n    }\n    if (target.nodeName === 'P') {\n      _getTask(_tagList(), target);\n    }\n  });\n}\n//完成一条任务\nfunction _getTask(somelist, target) {\n  let index = Array.prototype.indexOf.call(target.parentNode.parentNode.children, target.parentNode);\n  let state = true; \n  todolist.forEach( ele => {\n    if (ele.id === somelist[index].id) {\n      if (ele.status) {\n         state = false;\n      } else {\n        ele.status = true;\n        state = true;\n      }\n    }\n  });\n  if (state) {\n    DBbase.addDB(todolist, showList);\n  }  \n}\n//删除一条数据\nfunction _deleteItem(somelist, target) {\n  let index = Array.prototype.indexOf.call(target.parentNode.parentNode.children, target.parentNode);\n  DBbase.deleteDB(somelist[index].tick, _refresh);\n}\n//刷新数据\nfunction _refresh() {\n  todolist = [];\n  DBbase.getAllDB(todolist, showList);\n}\nfunction _sort() {\n  todolist.sort((a, b) => a.status - b.status);\n}\n  \n  \nfunction getNowTime(addDay) {\n  addDay = (addDay || 0);\n  let foo = new Date();\n  foo.setDate(foo.getDate() + addDay); \n  let month = foo.getMonth() + 1 + '月';\n  let day = foo.getDate() + '日';\n  let hours = foo.getHours();\n  let minutes = foo.getMinutes();\n  let week = foo.getDay();\n  let time = {};\n  switch(week) {\n  case 0:\n    week = '星期日';\n    break;\n  case 1:\n    week = '星期一';\n    break;\n  case 2:\n    week = '星期二';\n    break;\n  case 3:\n    week = '星期三';\n    break;\n  case 4:\n    week = '星期四';\n    break;\n  case 5:\n    week = '星期五';\n    break;\n  case 6:\n    week = '星期六';\n    break;\n  default: \n    console.log('error');\n  }\n  return time = {\n    month: month + day,\n    hours: hours + ':' + minutes,\n    week: week,\n  };\n}\n \nfunction _tagList() {        \n  let taglist = todolist.filter(function (ele) {\n    return ele.tag === tags.tag;\n  });\n  return taglist;\n}     \nfunction weeks() {\n  let week = document.getElementsByClassName('week');\n  for (let i = 2; i < week.length; i++) {\n    week[i].children[0].children[0].innerHTML = getNowTime(i).week;\n  }\n}\n","/**\n * 图片预加载函数\n * @param {图片数组或对象} images \n * @param {全部图片加载成功的回调函数} callback \n * @param {加载超时的时间} timeout \n */\nfunction preload(images, callback, timeout) {\n  //加载完成的图片计数器\n  let count = 0;\n  //全部图片加载完成\n  let success = true;\n  //是否加载超时\n  let isTimeout = false;\n  //超时定时器ID\n  let timeId = 0;\n\n  for (let key in images) {\n    //过滤掉继承的属性\n    if (!images.hasOwnProperty(key)) {\n      continue;\n    }\n    let item = images[key];\n    if (typeof(item) === 'string') {\n      item = {src: item}\n    } else {\n      continue;\n    }\n    count++;\n    //设置图片元素的img，是一个Image对象\n    item.image = new Image();\n    doload(item);\n    \n  }\n  if (timeout) {\n    timeId = setTimeout(onTimeout, timeout);\n  }\n  function doload(item) {\n    item.status = 'loading';\n\n    item.image.onload = function () {\n      item.status = 'loaded';\n      success = success && true;\n      cleanEvent();\n    };\n    item.image.onerror = function () {\n      item.status = 'error';\n      success = false;\n      cleanEvent()\n    };\n    item.image.src = item.src;\n    //清除绑定的事件\n    function cleanEvent() {\n      item.image.onload = item.image.onerror = null;\n  \n      if (!--count && !isTimeout) {\n        clearTimeout(timeId);\n        callback(true);\n      }    \n    }\n  }\n  //超时函数  \n  function onTimeout() {\n    isTimeout = true;\n    callback(false);\n  }\n}\nexport default preload;"],"sourceRoot":""}