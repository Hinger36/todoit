{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/api.js","webpack:///./src/indexDB.js","webpack:///./src/main.js"],"names":["addEvent","ele","type","handle","addEventListener","attachEvent","call","ID","Number","Math","random","toString","split","Date","now","DB_NAME","DB_VERSION","DB_STORE_NAME","KEYPATH","INDEX","IndexName","keyPath","unique","db","deleteIndexDB","DBDeleteRequest","window","indexedDB","deleteDatabase","onerror","event","console","log","onsuccess","result","initDB","data","callback","openReq","open","target","errorCode","getAllDB","onupgradeneeded","_createObjectStoreHandle","onblocked","store","createObjectStore","autoIncrement","_createIndex","index","createIndex","_createTransation","transaction","oncomplete","onabort","addDB","obj","objectStore","i","put","deleteDB","delete","getDB","arr","get","cursor","push","getAll","forEach","x","api","todolist","tags","init","time","document","getElementsByClassName","len","length","innerHTML","getNowTime","week","month","DBbase","showList","addTodo","listMenu","weeks","listHandle","item","content","srcElement","nodeName","input","parentNode","children","value","_addItem","Array","prototype","indexOf","task","day","tag","todoitem","id","tick","status","unshift","inbox","getElementById","today","proTag","_sort","todayList","filter","clearList","_indexImg","_createList","weekList","_tagList","list","li","createElement","p","em","appendChild","style","textDecoration","background","div","box","border","ul","_deleteItem","_getTask","somelist","state","_refresh","sort","a","b","addDay","foo","setDate","getDate","getMonth","hours","getHours","minutes","getMinutes","getDay","taglist","menu","nav","lmenu","isHiden","isShow","timer","stopPropagation","top","transition","transform","display","innerText","left","backgroundColor"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","//事件监听 兼容性封装\nfunction addEvent(ele, type, handle) {\n  if (ele.addEventListener) {\n    ele.addEventListener(type, handle, false);\n  } else if (ele.attachEvent) {\n    ele.attachEvent('on' + type, function () {\n      handle.call(this);\n    });\n  } else {\n    ele['on' + type] = handle;\n  }\n}\n//生成一个唯一数\nfunction ID() {\n  return Number(\n    Math.random().toString().split('.')[1]\n  ).toString(36) + Date.now().toString(36);\n}\n\nexport default {\n  addEvent,\n  ID,\n}","//数据库名称\nconst DB_NAME = 'todoit-indexedDB';\n//数据库版本号\nconst DB_VERSION = 1;\n//对象仓库名称\nconst DB_STORE_NAME = 'todolist';\nconst KEYPATH = 'tick';\n//索引\nconst INDEX = {\n  IndexName: 'id',\n  keyPath: 'id',\n  unique: false,\n}\nlet db;\n\n//从删库到跑路\nfunction deleteIndexDB() {\n  var DBDeleteRequest = window.indexedDB.deleteDatabase(DB_NAME);\n\n  DBDeleteRequest.onerror = function(event) {\n    console.log(\"Error deleting database.\");\n  };\n  \n  DBDeleteRequest.onsuccess = function(event) {\n    console.log(\"Database deleted successfully\");\n      \n    console.log(event.result); // should be undefined\n  };\n}\n\n//数据库初始化\nfunction initDB(data, callback) {\n  const openReq = window.indexedDB.open(DB_NAME, DB_VERSION);\n  \n  openReq.onerror = event => {\n    console.log(\"initDb:\", event.target.errorCode);\n  };\n  openReq.onsuccess = event => {\n    db = event.target.result;\n    getAllDB(data, callback);\n    console.log(\"initDb DONE\");\n  };\n  openReq.onupgradeneeded = event => {\n    db = event.target.result;\n    _createObjectStoreHandle();\n    console.log('创建对象仓库成功');\n  };\n  openReq.onblocked = () => {\n    console.log('上一次的数据库连接还未关闭');\n  }\n}\n//创建对象仓库\nfunction _createObjectStoreHandle() {\n  const store = db.createObjectStore(DB_STORE_NAME, { keyPath: KEYPATH, autoIncrement: false});\n  _createIndex(store, INDEX);\n}\n//创建索引\nfunction _createIndex(store, index) {\n  store.createIndex(index.IndexName, index.keyPath, {unique: index.unique});\n}\n//建立事务\nfunction _createTransation() {\n  const transaction = db.transaction(DB_STORE_NAME, 'readwrite');\n  transaction.oncomplete = () => {\n    console.log('事务完成');\n  }\n  transaction.onerror = () => {\n    console.log('事务出错');\n  }\n  transaction.onabort = () => {\n    console.log('事务中断');\n  }\n  return transaction;\n}\n/**\n * 添加数据\n * @param {需要存储的数据对象或者数组} obj \n */\nfunction addDB(obj, callback) {\n  let store = _createTransation().objectStore(DB_STORE_NAME);\n  for (let i in obj) {\n    store.put(obj[i])\n  \t\t  .onsuccess = () => {\n          callback();\n          console.log('添加成功');\n        }\n    }\n} \n//删除一条数据\nfunction deleteDB(keyPath, callback) {\n  let store = _createTransation().objectStore(DB_STORE_NAME);\n  store.delete(keyPath)\n      .onsuccess = () => {\n        console.log('删除成功');\n        callback();\n      }\n}\n\n//获取一条数据\nfunction getDB(keyPath, arr) {\n  let store = _createTransation().objectStore(DB_STORE_NAME);\n  store.get(keyPath)\n      .onsuccess = event => {\n         let cursor = event.target.result;\n         if (cursor) {\n           obj.push(cursor);\n         }\n    }\n}\n\n//获取全部数据\nfunction getAllDB(arr, callback) {\n  let store = _createTransation().objectStore(DB_STORE_NAME);\n  store.getAll()\n       .onsuccess = event => {\n         let cursor = event.target.result;\n         if (cursor) {\n           cursor.forEach(x => arr.push(x));\n           callback();\n         }\n    }\n}\n\nexport default {\n  initDB,\n  addDB,\n  deleteDB,\n  getDB,\n  getAllDB,\n  deleteIndexDB\n}\n","import DBbase from './indexDB';\nimport api from './api';\n// import inter from './interactive'\n\nconst addEvent = api.addEvent;\nconst ID = api.ID;\nlet todolist = [];\nlet tags = '';\n\n!function init() {\n  let time = document.getElementsByClassName('time');\n  for (let i = 1, len = time.length; i < len; i++) {\n    time[i].innerHTML = getNowTime(i - 1).week + getNowTime(i - 1).month;     \n  }\n  time[0].innerHTML = getNowTime().week + getNowTime().month;\n  //DBbase.deleteIndexDB()\n  DBbase.initDB(todolist, showList);\n  addTodo();\n  listMenu();\n  weeks();\n  listHandle();\n}()\n  \n\n//添加待办事项\nfunction addTodo(item) {\n  let content = document.getElementsByClassName('content');\n  //收件箱\n  addEvent(content[0], 'click', event => {\n    let target = event.target || event.srcElement;\n    if (target.nodeName === 'BUTTON') {\n      let input = target.parentNode.children[0];\n      if (!input.value) {\n        return;\n      }\n      _addItem(input.value);\n      input.value = '';\n    } else {\n      return;\n    }   \n  });\n  //今天\n  addEvent(content[1], 'click', event => {\n    let target = event.target || event.srcElement;\n    if (target.nodeName === 'BUTTON') {\n      let input = target.parentNode.children[0];\n      if (!input.value) {\n        return;\n      }\n      _addItem(input.value);\n      input.value = '';\n    } else {\n      return;\n    }   \n  });\n  //未来7天\n  addEvent(content[2], 'click', event => {\n    let target = event.target || event.srcElement;\n    if (target.nodeName === 'BUTTON') {\n      let input = target.parentNode.children[0];\n      let index = Array.prototype.indexOf.call(target.parentNode.parentNode.parentNode.children, target.parentNode.parentNode);\n      if (!input.value) {\n        return;\n      }\n      _addItem(input.value, index);\n      input.value = '';\n    } else {\n      return;\n    }   \n  });\n  addEvent(content[3], 'click', event => {\n    let target = event.target || event.srcElement;\n    if (target.nodeName === 'BUTTON') {\n      let input = target.parentNode.children[0];\n      if (!input.value) {\n        return;\n      }\n      _addItem(input.value, null, tags);\n      input.value = '';\n    } else {\n      return;\n    }   \n  });\n}\n//添加一条任务\nfunction _addItem(task, day, tag) {\n   let todoitem = {\n    id: ID(),\n    tick : Date.now(),\n    task: task,\n    time: getNowTime(day).month,\n    //标记是否完成\n    status: false,\n    tag: tag,\n  };\n  todolist.unshift(todoitem);\n  DBbase.addDB(todolist, showList);\n}\n\n//显示数据\nfunction showList() {\n  let inbox = document.getElementById('inbox'); \n  let today = document.getElementById('today');\n  let weeks = document.getElementsByClassName('week');\n  let proTag = document.getElementById('pro-tag');\n  _sort();\n  let todayList = todolist.filter(ele => ele.time === getNowTime().month);\n  clearList();\n  if (!todolist.length) {\n    _indexImg(inbox);\n  }\n  if (!todayList.length) {\n    _indexImg(today);\n  }\n  _createList(inbox, todolist);\n  _createList(today, todayList);\n  for (let i = 0, len = weeks.length; i < len; i++) {\n    let week = weeks[i].children[2].children[0];\n    let weekList = todolist.filter(ele => ele.time === getNowTime(i).month);\n    _createList(week, weekList);\n  }\n  _createList(proTag, _tagList());\n}\n//创建数据列表\nfunction _createList(list, obj) {\n  obj.forEach(ele => {\n    let li = document.createElement('li');\n    let p = document.createElement('p');\n    let em = document.createElement('em');\n    p.innerHTML = '<span></span><i>' + ele.time + '</i>' + ele.task;\n    let item = list.appendChild(li);\n    item.appendChild(p);\n    item.appendChild(em);\n    //完成任务\n    if (ele.status) {\n      p.style.textDecoration = 'line-through';\n      p.children[0].style.background = 'url(./images/success.png) no-repeat';\n    }\n  });\n}\n//清空数据列表\nfunction clearList() {\n  let list = document.getElementsByClassName('todolist');\n  for (let i = 0, len = list.length; i < len; i++) {\n    list[i].innerHTML = '';\n  }\n}\n/**\n * 创建首页图片\n * @param {todolist列表dom元素} list \n */\nfunction _indexImg(list) {\n  let div = document.createElement('div');\n  let li = document.createElement('li');\n  let box = list.appendChild(li);\n  li.style.border = 'none';\n  box.appendChild(div).innerHTML = '<div></div><div>你的任务完成了！#TodolistZero</div>';\n}\n\nfunction listHandle() {\n  let ul = document.getElementsByClassName('todolist');\n  let inbox = document.getElementById('inbox'); \n  let today = document.getElementById('today');\n  let weeks = document.getElementsByClassName('week');\n  let proTag = document.getElementById('pro-tag');\n  addEvent(inbox, 'click', event => {\n    let target = event.target || event.srcElement;\n    if (target.nodeName === 'EM') {\n      _deleteItem(todolist, target);\n    }\n    if (target.nodeName === 'P') {\n      _getTask(todolist, target);\n    }\n  });\n  addEvent(today, 'click', event => {\n    let target = event.target || event.srcElement;\n    let todayList = todolist.filter(ele => ele.time === getNowTime().month);\n    if (target.nodeName === 'EM') {\n      _deleteItem(todayList, target)\n    }\n    if (target.nodeName === 'P') {\n      _getTask(todayList, target);\n    }\n  });\n\n  for (let i = 0, len = weeks.length; i < len; i++) {\n    addEvent(ul[i + 2], 'click', event => {\n      let target = event.target || event.srcElement;\n      let weekList = todolist.filter(ele => ele.time === getNowTime(i).month);\n      if (target.nodeName === 'EM') {\n        _deleteItem(weekList, target)\n      }\n      if (target.nodeName === 'P') {\n        _getTask(weekList, target);\n      }\n    });\n  }\n  addEvent(proTag, 'click', event => {\n    let target = event.target || event.srcElement;\n    let todayList = todolist.filter(ele => ele.time === getNowTime().month);\n    if (target.nodeName === 'EM') {\n      _deleteItem(_tagList(), target)\n    }\n    if (target.nodeName === 'P') {\n      _getTask(_tagList(), target);\n    }\n  });\n}\n//完成一条任务\nfunction _getTask(somelist, target) {\n  let index = Array.prototype.indexOf.call(target.parentNode.parentNode.children, target.parentNode);\n  let state = true; \n  todolist.forEach( ele => {\n    if (ele.id === somelist[index].id) {\n      if (ele.status) {\n         state = false;\n      } else {\n        ele.status = true;\n        state = true;\n      }\n    }\n  });\n  if (state) {\n    DBbase.addDB(todolist, showList);\n  }  \n}\n//删除一条数据\nfunction _deleteItem(somelist, target) {\n  let index = Array.prototype.indexOf.call(target.parentNode.parentNode.children, target.parentNode);\n  DBbase.deleteDB(somelist[index].tick, _refresh);\n}\n//刷新数据\nfunction _refresh() {\n  todolist = [];\n  DBbase.getAllDB(todolist, showList);\n}\nfunction _sort() {\n  todolist.sort((a, b) => a.status - b.status);\n}\n  \n  \n  function getNowTime(addDay) {\n    addDay = (addDay || 0);\n    let foo = new Date();\n    foo.setDate(foo.getDate() + addDay); \n    let month = foo.getMonth() + 1 + '月';\n    let day = foo.getDate() + '日';\n    let hours = foo.getHours();\n    let minutes = foo.getMinutes();\n    let week = foo.getDay();\n    let time = {};\n    switch(week) {\n    case 0:\n      week = '星期日';\n      break;\n    case 1:\n      week = '星期一';\n      break;\n    case 2:\n      week = '星期二';\n      break;\n    case 3:\n      week = '星期三';\n      break;\n    case 4:\n      week = '星期四';\n      break;\n    case 5:\n      week = '星期五';\n      break;\n    case 6:\n      week = '星期六';\n      break;\n    default: \n      console.log('error');\n    }\n    return time = {\n      month: month + day,\n      hours: hours + ':' + minutes,\n      week: week,\n    };\n  }\n \n\nfunction _tagList() {        \n  let taglist = todolist.filter(function (ele) {\n    return ele.tag === tags;\n  });\n  return taglist;\n}     \nfunction weeks() {\n  let week = document.getElementsByClassName('week');\n  for (let i = 2; i < week.length; i++) {\n    week[i].children[0].children[0].innerHTML = getNowTime(i).week;\n  }\n}\n \nfunction listMenu() {\n\n  let ul = document.getElementsByClassName('project-list')[0];\n  let menu = document.getElementsByClassName('fixmenu')[0];\n  let tag = document.getElementsByClassName('tag')[9].children[0];\n  let nav = document.getElementsByClassName('nav-toggle')[0];\n  let lmenu = document.getElementsByClassName('left-menu')[0];\n  let box = document.getElementsByClassName('right-box')[0];\n  let filter = document.getElementsByClassName('filter');\n  let content = document.getElementsByClassName('content');\n  let isHiden = true;\n  let isShow = true;\n  let timer = 0;\n  addEvent(menu, 'click', function (event) {\n    event.stopPropagation();\n    if (isShow) {\n      // ul.style.display = 'none';\n      ul.style.top = '-180px';\n      ul.style.transition = '0.6s';\n      menu.children[0].children[0].style.transform = 'rotate(180deg)';\n      menu.children[0].children[0].style.transition = '0.6s';    \n    } else {\n      ul.style.top = '';\n      ul.style.transition = '0.6s';\n      menu.children[0].children[0].style.transform = '';\n      menu.children[0].children[0].style.transition = '0.6s';\n    }\n    isShow = !isShow;\n  });\n  addEvent(ul, 'click', function (event) {\n    let target = event.target;\n    if (target.nodeName === 'LI') {\n      \n      content[0].style.display = '';\n      content[1].style.display = 'none';\n      content[2].style.display = '';\n      content[3].style.display = 'block';\n      \n      tag.innerHTML = target.innerText;\n      tags = tag.innerHTML; \n      showList();\n    }    \n  });\n  addEvent(nav, 'click', function () {\n    if (isHiden) {\n      lmenu.style.left = '0';\n      lmenu.style.transition = '0.6s'\n    } else {\n      lmenu.style.left = '';\n      lmenu.style.transition = '0.6s'\n    }\n    isHiden = !isHiden;\n  });\n  addEvent(box, 'click', function () {\n    lmenu.style.left = '';\n    lmenu.style.transition = '0.6s'\n  });\n  \n  addEvent(filter[0], 'click', function () {\n    for (let i = 0, len = filter.length; i < len; i++) {\n      filter[i].style.backgroundColor = '#fafafa';\n    }\n    content[0].style.display = 'block';\n    filter[0].style.backgroundColor = '#fff';\n    content[1].style.display = 'none';\n    content[2].style.display = '';\n    content[3].style.display = '';\n  });\n  addEvent(filter[1], 'click', function () {\n    for (let i = 0, len = filter.length; i < len; i++) {\n      filter[i].style.backgroundColor = '#fafafa';\n    }\n    content[0].style.display = '';\n    content[1].style.display = 'block';\n    filter[1].style.backgroundColor = '#fff';\n    content[2].style.display = '';\n    content[3].style.display = '';\n  });\n  addEvent(filter[2], 'click', function () {\n    for (let i = 0, len = filter.length; i < len; i++) {\n      filter[i].style.backgroundColor = '#fafafa';\n    }\n    content[0].style.display = '';\n    content[1].style.display = 'none';\n    content[2].style.display = 'block';\n    content[3].style.display = '';\n    filter[2].style.backgroundColor = '#fff';\n  });\n}\n"],"sourceRoot":""}